## Этап 3

## Работа по курсу "Рефакторинг баз данных и приложений"
Выбран сценарий 1: Проектирование и разработка новой программной системы

Состав команды:
* Кравцова К.В, P34081
* Батомункуева В.Ж, P34101

Университет ИТМО, факультет ПИиКТ

г. Санкт-Петербург, 2025 год

## Описание проекта
https://github.com/themyav/flat-manager/blob/main/README.md

## Задачи этапа
1. Расширение функциональности проекта
2. Исправление ошибок этапа 2


### База данных
#### Добавление новой таблицы
#### Изменение таблицы «user»
* Изменен типа колонки **password** с ```char(255)``` на ```text```
    * Для хранения зашифрованного пароля

#### ER-диаграмма:

### Back-end

#### Расширение функционала
* Добавлен контроллер для просмотра статистики, можно увидеть
  * статус платежей
  * историю платежей
* Создан сервис, отправляющий уведомления на почту, напоминая о предстоящем платеже по таймеру
* Шифрование паролей пользователей

#### Исправление функционала
* Исправлено удаление услуг
* Рефакторинг комментариев, ненужных импортов
* В swagger добавлены все контроллеры

### Front-end

#### Расширение функционала
* Добавление интерфейса статистики

#### Исправление функционала
* Отображение имени и фамилии пользователя
* Отображение неудачной регистрации 
* Отображение предупреждение о неверно введеном номере телефона
* Отображение дат

### Aglie

Была использована система мониторинга проектов YouTrack. Задачи этапа 2:



## Результат работы

### Исходный код этапа 2

Pull Request отображает diff в коде между 2 и 3 этапом.

https://github.com/themyav/flat-manager/pull/21

### Редактирование данных профиля пользователя

Перейдем к редактированию пользователя

<img src="https://github.com/user-attachments/assets/66837c66-087b-4232-a46b-ac6a895adcb0" alt="Image description" width="50%">

Заполним новые данные

<img src="https://github.com/user-attachments/assets/379b3697-4751-4a10-88c2-b03ddc1837ed" alt="Image description" width="50%">

Новая информация отобразится на сайте

<img src="https://github.com/user-attachments/assets/2bef61fa-1cde-4054-83fc-06618ee492d8" alt="Image description" width="50%">

Новый пользователь отобразится в БД

<img src="https://github.com/user-attachments/assets/1334432b-2373-483b-aab4-c0ba3721c27b" alt="Image description" width="50%">

### Редактирование данных коммунальной услуги (с учетом новых полей)

Перейдем на страницу КУ

<img src="https://github.com/user-attachments/assets/7f8ffae7-2a05-4261-bc91-9fc7f3caef1f" alt="Image description" width="50%">

Изменим данные о КУ

<img src="https://github.com/user-attachments/assets/01af4e6c-64fd-4991-aca1-4848e408974e" alt="Image description" width="50%">

Данные обновятся на сайте

<img src="https://github.com/user-attachments/assets/2c2360dd-5f99-4c88-bfb4-15c0535b580a" alt="Image description" width="50%">

И в БД

<img src="https://github.com/user-attachments/assets/05b6c6d9-9ce0-4251-9247-1e3647dfe24c" alt="Image description" width="50%">


### Навигация по месяцам

Установленные чекбоксы показывают, была ли оплачена услуга.

Текущий месяц

<img src="https://github.com/user-attachments/assets/3d28005a-9f44-40fe-bac6-e9e25804a6e2" alt="Image description" width="50%">

Месяц из будущего (услуг еще нет)

<img src="https://github.com/user-attachments/assets/fd1bdfbc-7421-4457-ab0b-62676a88c7f7" alt="Image description" width="50%">

## Вывод

На 2 этапе мы успешно расширили функциональность приложения Flat-Manager как на стороне back-end, так и на front-end, а также исправили ошибки, выявленные на первом этапе. В результате проведенных работ приложение получило значительное расширение функционала и стало более удобным в использовании.
